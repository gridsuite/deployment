# This is the base httpd.conf file of httpd:2.4 docker container, we just have added << Header set Access-Control-Allow-Origin "*" >> to the htdocs directory settings
# and the content-type application/json to the openid-configuration file
<VirtualHost *:8080>
  DocumentRoot "/opt/bitnami/apache/htdocs"
  <Directory "/opt/bitnami/apache/htdocs">
    Header set Access-Control-Allow-Origin "*"
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
  </Directory>

  <FilesMatch "^openid-configuration$">
      ForceType application/json
  </FilesMatch>

  # Headers "Expires" and "Cache-Control: max-age"
  <IfModule expires_module>
    ExpiresActive Off
  </IfModule>

  # Header "Last-Modified" => "If-Modified-Since", done by default by httpd using filesystem inode date

  # Header "ETag" => "If-None-Match" (replace Last/If-Modified for navigators supporting it) ; All â‡” INode MTime Size
  FileETag All
  <Files "*.json">
    FileETag Digest
  </Files>

  # Error Documents
  ErrorDocument 503 /503.html
</VirtualHost>
